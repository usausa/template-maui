<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:s="http://smart/maui"
             xmlns:shell="clr-namespace:Template.MobileApp.Shell"
             xmlns:controls="clr-namespace:Template.MobileApp.Controls"
             xmlns:module="clr-namespace:Template.MobileApp.Modules.UI"
             x:Class="Template.MobileApp.Modules.UI.UIMixerView"
             x:DataType="{x:Type module:UIMixerViewModel}"
             s:BindingContextResolver.Type="{x:Type module:UIMixerViewModel}"
             shell:ShellProperty.Title="Mixer"
             shell:ShellProperty.Function1Text="Back"
             shell:ShellProperty.Function1Enabled="True">

    <!-- ReSharper disable Xaml.RedundantResource -->
    <ContentView.Resources>
        <ResourceDictionary>

            <Style x:Key="MixierGrid"
                   TargetType="Grid">
                <Setter Property="ColumnSpacing" Value="8" />
                <Setter Property="BackgroundColor" Value="{StaticResource GrayDarken3}" />
            </Style>

            <Style x:Key="MixierValueLabel"
                   TargetType="Label">
                <Setter Property="HorizontalOptions" Value="Center" />
                <Setter Property="VerticalOptions" Value="End" />
                <Setter Property="TextColor" Value="White" />
                <Setter Property="FontSize" Value="18" />
            </Style>

            <Style x:Key="MixierKnob"
                   TargetType="controls:MixierKnob">
                <Setter Property="PointerMargin" Value="3" />
                <Setter Property="PointerWidth" Value="16" />
                <Setter Property="IndicatorBackgroundColor" Value="{StaticResource GrayLighten3}" />
                <Setter Property="KnobBackground">
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Offset="0" Color="White" />
                        <GradientStop Offset="1" Color="{StaticResource GrayDarken1}" />
                    </LinearGradientBrush>
                </Setter>
                <Setter Property="PointerBackground">
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Offset="0" Color="{StaticResource GrayDarken2}" />
                        <GradientStop Offset="1" Color="{StaticResource GrayLighten2}" />
                    </LinearGradientBrush>
                </Setter>
            </Style>

            <Style x:Key="MixierSlider"
                   TargetType="controls:MixierSlider">
                <Setter Property="TrackColor" Value="Black" />
                <Setter Property="ThumbColor1" Value="{StaticResource GrayLighten2}" />
                <Setter Property="ThumbColor2" Value="{StaticResource GrayDefault}" />
                <Setter Property="TickMarkColor" Value="{StaticResource GrayLighten3}" />
                <Setter Property="TrackWidth" Value="12" />
                <Setter Property="ThumbWidth" Value="64" />
                <Setter Property="ThumbHeight" Value="24" />
                <Setter Property="TickMarkLength" Value="40" />
            </Style>

            <Style x:Key="MixierEqualizer"
                   TargetType="controls:MixierEqualizer">
                <Setter Property="HorizontalSpacing" Value="4" />
                <Setter Property="VerticalSpacing" Value="4" />
                <Setter Property="Range" Value="16" />
                <Setter Property="Level" Value="16" />
                <Setter Property="StartColor" Value="{StaticResource GreenAccent4}" />
                <Setter Property="EndColor" Value="{StaticResource GreenAccent1}" />
                <Setter Property="InactiveColor" Value="{StaticResource GrayDarken1}" />
            </Style>

        </ResourceDictionary>
    </ContentView.Resources>
    <!-- ReSharper restore Xaml.RedundantResource -->

    <Grid Style="{StaticResource MixierGrid}"
          RowDefinitions="160,*,Auto,240"
          ColumnDefinitions="*,*,*">


        <!-- Knob -->
        <controls:MixierKnob Grid.Row="0" Grid.Column="0"
                             Style="{StaticResource MixierKnob}"
                             Value="{Binding KnobValue1}"
                             IndicatorColor="{StaticResource PinkAccent2}" />

        <controls:MixierKnob Grid.Row="0" Grid.Column="1"
                             Style="{StaticResource MixierKnob}"
                             Value="{Binding KnobValue2}"
                             IndicatorColor="{StaticResource GreenAccent2}" />

        <controls:MixierKnob Grid.Row="0" Grid.Column="2"
                             Style="{StaticResource MixierKnob}"
                             Value="{Binding KnobValue3}"
                             IndicatorColor="{StaticResource LightBlueAccent2}" />

        <Label Grid.Row="0" Grid.Column="0"
               Style="{StaticResource MixierValueLabel}"
               Text="{Binding KnobValue1, StringFormat='{0:F1}'}" />

        <Label Grid.Row="0" Grid.Column="1"
               Style="{StaticResource MixierValueLabel}"
               Text="{Binding KnobValue2, StringFormat='{0:F1}'}" />

        <Label Grid.Row="0" Grid.Column="2"
               Style="{StaticResource MixierValueLabel}"
               Text="{Binding KnobValue3, StringFormat='{0:F1}'}" />

        <!-- Slider -->
        <controls:MixierSlider Grid.Row="1" Grid.Column="0"
                               Style="{StaticResource MixierSlider}"
                               Value="{Binding SliderValue1}"
                               ProgressColor="{StaticResource PinkAccent2}" />

        <controls:MixierSlider Grid.Row="1" Grid.Column="1"
                               Style="{StaticResource MixierSlider}"
                               Value="{Binding SliderValue2}"
                               ProgressColor="{StaticResource GreenAccent2}" />

        <controls:MixierSlider Grid.Row="1" Grid.Column="2"
                               Style="{StaticResource MixierSlider}"
                               Value="{Binding SliderValue3}"
                               ProgressColor="{StaticResource LightBlueAccent2}" />

        <Label Grid.Row="2" Grid.Column="0"
               Style="{StaticResource MixierValueLabel}"
               Text="{Binding SliderValue1, StringFormat='{0:F1}'}" />

        <Label Grid.Row="2" Grid.Column="1"
               Style="{StaticResource MixierValueLabel}"
               Text="{Binding SliderValue2, StringFormat='{0:F1}'}" />

        <Label Grid.Row="2" Grid.Column="2"
               Style="{StaticResource MixierValueLabel}"
               Text="{Binding SliderValue3, StringFormat='{0:F1}'}" />

        <!-- Equalizer -->
        <controls:MixierEqualizer Grid.Row="3" Grid.ColumnSpan="3"
                                  Style="{StaticResource MixierEqualizer}"
                                  Values="{Binding Values}" />

    </Grid>

</ContentView>
